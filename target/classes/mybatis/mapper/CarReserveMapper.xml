<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.auc.mapper.CarReserveMapper">

    <!--  查询停车场车位表  -->
    <select id="findCarPortList" resultType="com.auc.pojo.CarPort">
         SELECT carport_id,carport_number,carport_fnum,carport_area,carport_carnumber,carport_photo,carport_starttime,carport_state from t_carport
    </select>

    <!--  根据车牌查询停车车位表  -->
    <select id="findCarPort" resultType="com.auc.pojo.CarPort" parameterType="java.lang.String">
         SELECT carport_id,carport_number,carport_fnum,carport_area,carport_carnumber,carport_photo,carport_starttime,carport_state,carport_reserveid from t_carport
         where carport_carnumber=#{carportCarnumber}
    </select>

    <!--  添加预约信息  -->
    <insert id="insertReserve" parameterType="com.auc.pojo.Reserve" useGeneratedKeys="true" keyProperty="reserveId">
         insert into t_reserve(reserve_carNumber,reserve_time) VALUES(#{reserveCarNumber},#{reserveTime})
    </insert>

    <!--  修改车库表  -->
    <update id="updateCarport" parameterType="com.auc.pojo.CarPort">
         update t_carport SET carport_reserveid=#{carportReserveid},carport_carnumber=#{carportCarnumber} where carport_id=#{carportId}
    </update>

</mapper>